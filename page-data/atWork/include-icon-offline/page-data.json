{"componentChunkName":"component---src-templates-blog-post-js","path":"/atWork/include-icon-offline/","result":{"data":{"site":{"siteMetadata":{"title":"Today I Learned...","author":"장호현","siteUrl":"https://guest-01.github.io/TIL","comment":{"disqusShortName":"","utterances":"Guest-01/blog-comments"},"sponsor":{"buyMeACoffeeId":""}}},"markdownRemark":{"id":"757c1b00-b81f-5174-88ec-68a3ecd5ef31","excerpt":"오늘은 회사에서 사용자 이슈를 해결한 사례를 가지고 왔습니다. 프론트엔드 개발자는 일반적으로 인터넷 연결이 되는 클라이언트를 가정하고 개발을 하는 경우가 많기에 특이한 사례라고 생각되어서 공유차 기록하게 되었습니다. 문제 상황 인터넷이 안되는 폐쇄망 환경에서 우리 애플리케이션(으로 만든 데스크톱 앱)을 실행하면 아이콘이 있어야할 자리에 아무것도 보이지 않는 현상이 나타났습니다.  원래 정상 애플리케이션의 모습은 아래와 같습니다.  초기 진단 아이콘을 불러오는 CSS…","html":"<p>오늘은 회사에서 사용자 이슈를 해결한 사례를 가지고 왔습니다. 프론트엔드 개발자는 일반적으로 인터넷 연결이 되는 클라이언트를 가정하고 개발을 하는 경우가 많기에 특이한 사례라고 생각되어서 공유차 기록하게 되었습니다.</p>\n<h3 id=\"문제-상황\" style=\"position:relative;\"><a href=\"#%EB%AC%B8%EC%A0%9C-%EC%83%81%ED%99%A9\" aria-label=\"문제 상황 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>문제 상황</h3>\n<p>인터넷이 안되는 폐쇄망 환경에서 우리 애플리케이션(<code class=\"language-text\">electron</code>으로 만든 데스크톱 앱)을 실행하면 아이콘이 있어야할 자리에 아무것도 보이지 않는 현상이 나타났습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1041px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 77.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsSAAALEgHS3X78AAADSklEQVQoz11SbWhTZxQ+bqhTsYoMKYIgWGHqj83ZD3DVaKJSmNP1j3+E/Rgosl91mko2ZJ1RpIhQU91wfrSy1VXUbtM2NVW7di79sEnazrW1H8SkpjfNTXJvbu5Hcu9973t3kuAQD4eX877nec7Xe+DsA7+ra8T5cPL7zhen3RPf3R93tI057v7raP3HcWvY8bPf0eT79vqg8+YzZ9PgmRsDzmv9ziveU5d62zzDsP6X+X3tzPLmFFxOwMXEisZYZfPcJ1dnK38M72gMbr8waa2fKPtmFKqfwmc9UNW9YM/jd6xdUOH+qn4QFl8JrW9hL/WM94WTA0xmIiYZWtYgqmkaZkEoSUvy0DTvn04NveADU8kth71Q3nm8wQerfxj5sD0zPcdTqppqiupaHm9y8XQ0yvAcj1fDINQgOYPmollqBqHcc/h8AKAlYXsssWzsVSSSSqXSgkJQdMpzYpLjFEVBtKpqSY6XFSXBCXiznfBBWVdNwzBA04TtLyMYTb5i5nVNn51lJFnWNK1QMhrZbFaW5VAoxDDRUCjMsRHL136oeHKswQ9FN4VdXl0ROFGSNJ0IkohoAwslqATJKubNn/iYVTGoYat9DuV58sbmmUqvQaSIkOJ1neQQeUECfS06OkiuZ5Jv2lY7CuWPahux7Jb43n5dlARsKYcjJC2K2GqBUJC3yfYAlHnsLhxYu2ntUyNxISUIWVUtQDEtnv9nLoR4g+yD0s48+QHdPaBlMhlk5tyE8Dwfj8cTiQTLsniiLUkStvMGeQhK3XaXH8BtWr2KieGpqRsUU4uyIogSNp3VdJxQQXGWSFT1HNl64hlsbbe7fAAdtKpPwr3A55wHd4vSwma9VhM3hJIMfhzJ599j74eP/zjZiOT7eml3ujeS7mVkT5DvDibCMg1LdIbPTsXlIK/NpskUm/nzebRnJNw7yjwanis72gPbOo6e+xve+11c5ZYW3eMW3+UW3kkua42tbJpZ+dNkkWtsef3IqjOB9+t8RTVP4ZAHDnZAVRtYbi/d+xtsa/2y7iH82j0wNs+Ps+JYTHgpqG3ewIKPqhZZqjd/ur/k8yPrDhzftPOLJSXb11ZUv7umdM3G3cUlO4o/sBVvsNSddf0HW6La0cag240AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"증상화면\"\n        title=\"증상화면\"\n        src=\"/TIL/static/a389af4463a6453557cc15acb11ec4d2/ee9b6/icon-missing-1.png\"\n        srcset=\"/TIL/static/a389af4463a6453557cc15acb11ec4d2/5a46d/icon-missing-1.png 300w,\n/TIL/static/a389af4463a6453557cc15acb11ec4d2/0a47e/icon-missing-1.png 600w,\n/TIL/static/a389af4463a6453557cc15acb11ec4d2/ee9b6/icon-missing-1.png 1041w\"\n        sizes=\"(max-width: 1041px) 100vw, 1041px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>원래 정상 애플리케이션의 모습은 아래와 같습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 360px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 172.33333333333334%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAiCAYAAABfqvm9AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAC/klEQVRIx61Wy04iQRTtLzHRqBg2bnx8gQlxZ8LCT9TFuDATN650nMREFyaKTpRECIiggAJt0wjdZ+pcqJ7qpnuAcSo5qaqm6txT91GF5bouPj4+wN5xHIEe93o99Pv9cXge3IcH2CcnsPf24FxcwAXQU/sszNJ8Xzrv5QW983N47bbM7W4X5VJJxpavFsXCG8JTagaDgXzTY0+pNI146tvn5+eQcFyEb86SxSpyjIybe604MiprFAawK8Bj4RFnP85QrVZxe3uL4+NjlMvl4dFJOtqn98YQDn/49bOFk++PuM5d49vBAa6urnB5eYmjoyNc39wEhOETJfiQbdD34HTdYO55fzaSyFQXIowPph9yo1bix/gsClHYbDbRaDTw+voqUZw+i8aDZtF6pVIR1Go1IWQKMKnZJ42Z4ProHPN7oJBVQXXPz88oFApjRyRoiJtYVezr9bqsJTgmB/cJIRfx2G9vb3J0U5EJXZLsbdtGW1VKq9WS/fweKKTkOH/M2gLCYrGIfD4vVqnOBNVMQlfVcn9UjhYHJKT/CFYEewZJz1/UZfA30P/koFssWqBj6Qv6j6CTuYg9/cSAxF5jCvpSYDlSqaQNrTAoJKEipo8G59OAJ6Jh8SGVUDKj/NUWVAr99f7+HhzDRDRQcaDrJMo8MiedTkdAUvpN5yVB0sSLeASSBonNpGTKEEzSKCapo0EGJCD8Xy24sWmBKmklDnQBkfQ7EbwpDMLu7i5WV1exubmJ9fV1wcbGhmBtbQ07OzvIZrOh7xrcw73kIJdF5u3tbczPzyOdTmNlZUWwtLSE5eVlLCwsYGtrS9YsLi7KdxOpVApzc3PIZDLDSuG5n56ekMvl5BG6u7vD/f19KMlZBSX17poJH01+ncNCqNNG+4qR/VJQ4pq+jadF6E0JIfKIJyHxTYk+1L7r/vMDFSYcvbN9dUk4h4dw1INO35rVoOcTFUZVuqensPf3UVd3I2u6qXrWOCPJe3O2IxuLepFbR1+qUyvUf89MF8zqw99VegnqGb1jagAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"정상화면\"\n        title=\"정상화면\"\n        src=\"/TIL/static/22ffaecba8e42a2b02075a6d5a19344d/f21e7/icon-missing-2.png\"\n        srcset=\"/TIL/static/22ffaecba8e42a2b02075a6d5a19344d/5a46d/icon-missing-2.png 300w,\n/TIL/static/22ffaecba8e42a2b02075a6d5a19344d/f21e7/icon-missing-2.png 360w\"\n        sizes=\"(max-width: 360px) 100vw, 360px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<h3 id=\"초기-진단\" style=\"position:relative;\"><a href=\"#%EC%B4%88%EA%B8%B0-%EC%A7%84%EB%8B%A8\" aria-label=\"초기 진단 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>초기 진단</h3>\n<p>아이콘을 불러오는 CSS 또는 폰트 파일이 누락되었거나 어떠한 이유로 불러오지 못한 것으로 추정됩니다. 인터넷이 안되는 환경에서 나타나는 증상인 것으로 보아, 아마도 외부 경로에서 불러오는 형태로 들어가 있을 것 같습니다.</p>\n<h3 id=\"가설-검증\" style=\"position:relative;\"><a href=\"#%EA%B0%80%EC%84%A4-%EA%B2%80%EC%A6%9D\" aria-label=\"가설 검증 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>가설 검증</h3>\n<p>개발환경에서 네트워크탭을 열어서 외부에서 불러오고 있는 asset들 중 아이콘 관련한 내역이 있는지 살펴보았습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1166px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 53.666666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsSAAALEgHS3X78AAAB2UlEQVQoz31RyXLTQBDVR/orfISyvHwBBy4hBcQpEgJVvoW7bRlffOYUUsXFEoq1jDQzkkajfbF5kiiOvBq1Wup5/XpRPM/jnAkhwh7fHh9/Pj3bDnkBTiefcco4Y5wHIR4eBEEY4VDKlre3yuVyyWQZhkGe5/C/bzaWaYkkjyLh+VR/sY2TYxNiuZ5DPOJTpAuFjGL5cblU2uYcMkkZHchbTTsahu/7v476j6fn35aTIVAUaf9K0owFoZRxVdf395+VpmkuPRCsqmq/36OFuq4pYx7jWV7WdVOUZVXVTVPLNKM8kCJu2/PDw5eOjKtt24KJFOv1+qjraI8QTMPruuUBrEsIRhCiW8aIR2kk7j7dKWVZDuShhN1uZxgGGK7rmKZp2zZjLI7jKIpc1xVxHHJmBvFJZF9RNshggnY+n2E1TdM7ZZDdUw+QIyGklBgE/uNTJGmSl28/3ChJkqBJ5IYtimK73UIQO3Ocv8ogDMrwsSmwiyLHBN5cv1cQS3ogN9rebDZQhgiUsWnLsgiqFRF2aVldFZTSNEnyory+WSr/Ch7s4XAYdvYfDDdXq1VHRrVZlmFs8K+u3o3H4/l8MVGBKQ4wUWevJvPX6mKqTmeqOpsjvhiNRn8AFQtHCDMs0BAAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"네트워크탭\"\n        title=\"네트워크탭\"\n        src=\"/TIL/static/7d9907df1aea4149938173940fa55e00/077b7/icon-missing-3.png\"\n        srcset=\"/TIL/static/7d9907df1aea4149938173940fa55e00/5a46d/icon-missing-3.png 300w,\n/TIL/static/7d9907df1aea4149938173940fa55e00/0a47e/icon-missing-3.png 600w,\n/TIL/static/7d9907df1aea4149938173940fa55e00/077b7/icon-missing-3.png 1166w\"\n        sizes=\"(max-width: 1166px) 100vw, 1166px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>역시나 사용중인 머티리얼 디자인의 css와 font파일을 CDN에서 불러오고 있는 것을 확인할 수 있었습니다. 해당 css와 폰트파일을 내장 번들할 수 있도록 방법을 찾아서 적용하면 해결될 것 같습니다.</p>\n<h3 id=\"1차-해결-시도\" style=\"position:relative;\"><a href=\"#1%EC%B0%A8-%ED%95%B4%EA%B2%B0-%EC%8B%9C%EB%8F%84\" aria-label=\"1차 해결 시도 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1차 해결 시도</h3>\n<p>해당 파일을 소스에서 검색해보니 아래와 같이 <code class=\"language-text\">link</code>태그로 포함되어 있었습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://cdn.jsdelivr.net/npm/@mdi/font@5.x/css/materialdesignicons.min.css<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>stylesheet<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>Vuetify 문서를 참고하니, 링크형식이 아닌 <code class=\"language-text\">npm install</code>로 내장할 수 있는 방법이 있어서 적용하였습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">npm install @mdi/font -D</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token string\">'@mdi/font/css/materialdesignicons.css'</span> <span class=\"token comment\">// Ensure you are using css-loader</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> createVuetify <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'vuetify'</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token function\">createVuetify</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  icons<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    defaultSet<span class=\"token operator\">:</span> <span class=\"token string\">'mdi'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// This is already the default value - only for display purposes</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>이렇게 변경 후 다시 개발자 도구를 확인해보니 이전처럼 cdn에서 불러오는 것이 아닌, 로컬에서 참조하고 있는 것을 확인할 수 있었습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1171px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 53.666666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsSAAALEgHS3X78AAAB3UlEQVQoz31Ry27bMBDUr/oL0ltQP/If/oI0PbQ5+BFJaVCf00OBAgVc2bEkUm9SpCTqYcm2OqrRHrsgViOSs7M71AhxCSVxHAdBgPzh/v719dvu7fDLsqydRahHPJ96nu8HSMMnDMMoclz34eGj1vd9U7Z5njdNA/xi6CGhRdVkeRHHiU0Cm+J2DFIQxjHjCU+zQoks//T5cSALpqIoUqoEXhvmj63t+Gxnu99/bqnvCymqplZlVdU1OBFjeV4AL5Yr7XK59P2QoNx1rfn8JUhkUXWpkFzIumnatj0esY7dqUtlFjFeK4X/9ZOunc/ntu1OpxOOB+X103a7DUJMRWzHpRjVD13iwRjL2vtBhMmtN29Hg9ViqXWQa1uUAADZNJ8dx5FS+r5/OBw8z0vTNMsymAJHAQRngVBhpgxd16AJJmjXbJrmfr+HBbhKKSWEXPllWSZJAjJjHK1Gef64WGhVVUEHhZHRua7rtm0zxv4p4/0kTJPSJQT7PE2PTcMLtVguNSFE8SfAR/+GYUAQm5xz6IMJgFNVFAmqDJHBWlUfV3C7v3r9N282m+uD/z9w+evLy0Cu6xrNQxZ4Pp/f3Lybzmbvx+PrGmIyvR3PbiezyWQyHY9nd3dYo9HoN+ycSGWHoaH0AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"네트워크탭2\"\n        title=\"네트워크탭2\"\n        src=\"/TIL/static/84d23d0ae6bb7ecee8fc737ef5b54c6d/a9965/icon-missing-4.png\"\n        srcset=\"/TIL/static/84d23d0ae6bb7ecee8fc737ef5b54c6d/5a46d/icon-missing-4.png 300w,\n/TIL/static/84d23d0ae6bb7ecee8fc737ef5b54c6d/0a47e/icon-missing-4.png 600w,\n/TIL/static/84d23d0ae6bb7ecee8fc737ef5b54c6d/a9965/icon-missing-4.png 1171w\"\n        sizes=\"(max-width: 1171px) 100vw, 1171px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<h3 id=\"그러나\" style=\"position:relative;\"><a href=\"#%EA%B7%B8%EB%9F%AC%EB%82%98\" aria-label=\"그러나 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>그러나…</h3>\n<p>그런데 최종 확인을 위해 이 상태에서 프로덕션으로 빌드하여 설치한 후 확인해보니 아이콘 위치에 이번에는 네모 모양의 글자가 나타나는 증상이 새롭게 나타났습니다. 마찬가지로 개발자도구를 확인해보니 내장시킨 폰트를 불러오지 못하는 것으로 보였습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1032px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 77.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsSAAALEgHS3X78AAADQUlEQVQozyVSy2tcVRi//4QuDFNEC4KrqhV04QNXInETsVB8gJtCpakLa0boRhHcKQhiRVx0UR/UWi2YpkWNiampxilJmSQzmcnc9/u87rnn3Hu+e+flmXr48fHxwe9x+D7jk5XtD5d3P1ppn/3FPHOtv/hzb/Fqb/GH7juXO83L+0vfts9/s/P+xe3m13eaX7WaX/7b/GKr+fnf7322ee7TDeP49+FzV6LvdqKlP0lznSyt4ndvRks3w1NX7LmP+w980Hvw/G7j3N3GmVbj1D9H3tpsvLHROLl25MRq45XfjNMrg5/2gul0ot90Oh1lGFA0ynGVpWGcsFwgmhPGaZazLKeM6yoKJUSJU2xcuOXEmGtaVU8di/b39+KEpkykhPpBYDtuz3S1ShTFYRT5QZikKMWYzjSEseWxnNF6OByPJ2UBhGp1HicJZSwIwxShjHPCGM8FYZksylzKFGEuhOYbqwNqerEqy+Fo9pSC4XComVmea9o96MCMZhlmfDKdAAAm2oIihIztWMqMlaXSnLquUZrmCBeMFZTmlEpKC8oKlumJJFQgwtJUcC5loQWMdpQMRSQLqACqumYIKdNUlqV8r0SotMzSnEHZ9mw4GCjXVYSooiik1M46WZrnQimlyRxj8P0Z4rjCCHwPAg98twr8We/aEEdVxrUTKDBuBYUQ8v/MUFU6ler3Va83q36sDt0Z+va9xlFdHcqtMK60VamM24FQUiCM0zRNNIKgCgLwvCqMIL4N9jWwr4O1DM51sG+AuQzhfsVlBZqtjDZW08moVDoHjCcTTgjoT9puaXfAXwfXUma3tPZL+y4cbFTJOqSbQGWl16OddwlMp2O9ZH0nOjzBKLYtGkYqozJdS8wfk8HVzL+h0O8j9sdYrEl2AMUstShBO5f6NsejoS41qCSOgsDPOddCQmRx1E2Tw5xHda0vaMTlhFDOGRE51+bGukN5AVFW+CQnEjxEe07Qtb2u7XYtb+/Q7w78AzPoWFG77+10rU7f6fcsy4vudBzjqdfeXt5qt5y45SQtOznA8tKvf93//MLcy28+/errx06cPnay+ezC2bknX3zkmYX7Hn3h4ePzRx9/6egT8w89Nv8fSsAwZMGBp6wAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"네트워크탭3\"\n        title=\"네트워크탭3\"\n        src=\"/TIL/static/9afa9390708173e8849d73d2ff82579c/12bff/icon-missing-5.png\"\n        srcset=\"/TIL/static/9afa9390708173e8849d73d2ff82579c/5a46d/icon-missing-5.png 300w,\n/TIL/static/9afa9390708173e8849d73d2ff82579c/0a47e/icon-missing-5.png 600w,\n/TIL/static/9afa9390708173e8849d73d2ff82579c/12bff/icon-missing-5.png 1032w\"\n        sizes=\"(max-width: 1032px) 100vw, 1032px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<h3 id=\"2차-분석\" style=\"position:relative;\"><a href=\"#2%EC%B0%A8-%EB%B6%84%EC%84%9D\" aria-label=\"2차 분석 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2차 분석</h3>\n<p>빌드한 후에 개발자도구를 봤을 때 <code class=\"language-text\">https://</code>가 아닌 <code class=\"language-text\">app://</code> 프로토콜에서 불러오는 것을 보아 내부에서 폰트파일을 찾고 있는 것은 확실합니다. 하지만 구체적인 경로를 봤을 때, 성공적으로 불러온 다른 파일들을 보면 상대경로인 <code class=\"language-text\">app://./</code>에서 시작하는데 문제가 된 폰트파일은 <code class=\"language-text\">app://fonts/...</code>와 같이 절대경로로 시작하는 곳에서 찾고있는 것을 알 수 있었습니다. 그래서 이 <code class=\"language-text\">app://</code> 프로토콜 관련 설정에서 해결을 시도해봐야할 것 같았습니다.</p>\n<h3 id=\"커스텀-프로토콜\" style=\"position:relative;\"><a href=\"#%EC%BB%A4%EC%8A%A4%ED%85%80-%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C\" aria-label=\"커스텀 프로토콜 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>커스텀 프로토콜</h3>\n<blockquote>\n<p>출처1: <a href=\"https://github.com/nklayman/vue-cli-plugin-electron-builder/issues/1647#issuecomment-1019400838\">https://github.com/nklayman/vue-cli-plugin-electron-builder/issues/1647#issuecomment-1019400838</a></p>\n</blockquote>\n<blockquote>\n<p>출처2: <a href=\"https://nklayman.github.io/vue-cli-plugin-electron-builder/guide/configuration.html#changing-the-file-loading-protocol\">https://nklayman.github.io/vue-cli-plugin-electron-builder/guide/configuration.html#changing-the-file-loading-protocol</a></p>\n</blockquote>\n<p>일반적으로 로컬파일을 참조할 때 사용되는 프로토콜은 <code class=\"language-text\">file://</code>입니다. 우리가 html파일을 만들고 그걸 더블 클릭해서 브라우저로 실행하면 주소창에 써있는 프로토콜이 바로 <code class=\"language-text\">file://</code>입니다. 그런데 지금 보듯이 <code class=\"language-text\">app://</code> 이라는 이상한 프로토콜을 사용하는 것으로 보아 우리 소스에서 커스텀으로 정의한 프로토콜일 것으로 추정해볼 수 있습니다.</p>\n<p>확인해보니, 프로젝트를 처음 시작할 때 <code class=\"language-text\">@vue/cli</code>를 이용해서 <code class=\"language-text\">vue add electron-builder</code>라는 명령어를 통해 프로젝트를 셋업하였는데, 이 때 깔리는 기본 템플릿 코드에 <code class=\"language-text\">app://</code> 프로토콜을 설정하는 코드가 있었습니다. 위 출처들을 참고하여서 해당 코드를 없애고 다시 기본값인 <code class=\"language-text\">file://</code> 프로토콜을 사용하도록 변경해보았습니다.</p>\n<h3 id=\"해결\" style=\"position:relative;\"><a href=\"#%ED%95%B4%EA%B2%B0\" aria-label=\"해결 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>해결</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1018px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 63.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsSAAALEgHS3X78AAACZElEQVQozzWSy27UMBSGs+Gt2PBAPARLNl3wABWzZYeQEFJFkZBKqxaVXqbTdmZy8S1xYsdO4tiJ41zwFHH06dexpaPzn2MHFzFLChmzCtQW1H3Iui368fnu9vh3vbrMP57T1Vm6+klWp2j1HaxOwPHX6NNp8vrtr1dvvgWpHpdlmadltNbZThZlTkUjhG1KU3FPK7muuWnKTpVGibbirm9oXq23WYBb54vLzACAIEZpGDIhea2YqNKC44w9xwRlRZozD6FFwSWXdaNUq5ogqbrR9tM8H/rPM+clzYs0yzzb3T5OAMK44GVGc4gxJilOMwCRP9aqDZK6n90wjtM4jsYYrc0wDEIIKWVVVU3TyFo55zpj/LH+H6qunLUBqLrJ2cG5afLtZ0I5E7XSve6GtrOyablU/sLj8wN1Wx1UcS6CWLTWaHsod755SosYJDSnqm1623vFKQEIAQjjJPGGYwgPtrNsV+ogrrqhM750fhm7YFJQyTATVIza9cqWGWMYe3KEGCE5hD6viyKSXQCUdX2nD9P66AiBaHciyFnLrpr8ss4v0uQGhQkKQ7DfoyiCXsOQImRtH2xZw2jG/JYPISDyHi8xvqqrJ6OjpnlMsw3Eqd+5d+4VIoQIoZTqrg+S1vlFuX9PtSycyRbmJuU2l4N21oyaUE2wxgcMIQYig5Ch1HQ24P3LD5vlMnfLMiohpmg/JaFnUdXc6wlEMwQzTEYQ2Xhv99s+2juCBjcE7x70h11/tEFHm+r9Wn1Zk8fn5P4Z3D5GDyC/D9P1E7jfxHeP8PImOr/e/bmL7q+f1g/JJsr/AhwCxMUKUckgAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"해결\"\n        title=\"해결\"\n        src=\"/TIL/static/31dddebdd30b179ad08d4251fc490cee/3dde1/icon-missing-6.png\"\n        srcset=\"/TIL/static/31dddebdd30b179ad08d4251fc490cee/5a46d/icon-missing-6.png 300w,\n/TIL/static/31dddebdd30b179ad08d4251fc490cee/0a47e/icon-missing-6.png 600w,\n/TIL/static/31dddebdd30b179ad08d4251fc490cee/3dde1/icon-missing-6.png 1018w\"\n        sizes=\"(max-width: 1018px) 100vw, 1018px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>그 결과 <code class=\"language-text\">file://</code> 프로토콜에서는 모든 참조가 정상적인 경로로 이루어지고 있어서 내장한 폰트파일도 정상적으로 불러오고, 따라서 아이콘도 모두 제대로 표기되는 것을 확인할 수 있습니다.</p>\n<p>만일 일반적인 웹 애플리케이션이었다면 CDN에 있는 파일들을 소스내의 <code class=\"language-text\">assets/</code>나 <code class=\"language-text\">public/</code>폴더로 옮겨놓고 경로를 수정하기만 해도 됐을 텐데, 이렇게 <code class=\"language-text\">electron</code>만의 문제까지 같이 겹쳐서 해결하기가 더욱 어려웠습니다.</p>\n<p>끝.</p>","frontmatter":{"title":"인터넷이 없는 폐쇄망에서 아이콘이 안나오는 문제","date":"November 20, 2023"}}},"pageContext":{"slug":"/atWork/include-icon-offline/","previous":{"fields":{"slug":"/atWork/add-build-date/"},"frontmatter":{"title":"버전 관리를 위해 빌드된 날짜 삽입하기"}},"next":null}}}