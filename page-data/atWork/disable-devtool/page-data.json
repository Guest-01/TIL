{"componentChunkName":"component---src-templates-blog-post-js","path":"/atWork/disable-devtool/","result":{"data":{"site":{"siteMetadata":{"title":"Today I Learned...","author":"장호현","siteUrl":"https://guest-01.github.io/TIL","comment":{"disqusShortName":"","utterances":"Guest-01/blog-comments"},"sponsor":{"buyMeACoffeeId":""}}},"markdownRemark":{"id":"547c614e-6ffa-5129-9969-f20956616717","excerpt":"…","html":"<p>오늘도 보안기능확인서 신청을 위해 들어온 요구사항 중 하나를 해결하고 기록하였습니다.</p>\n<p>원래의 요구사항은 사용자의 비밀번호가 어디에도 평문으로 남아서는 안된다는 지적이었으며, 구체적으로는 프론트엔드에서 로그인을 할 때 개발자도구를 열면 사용자가 입력한 암호가 보인다는 것이었습니다.</p>\n<p>비밀번호를 해싱해서 보내는 해결방법도 있었지만, 개발자도구 특성상 어디에 언제 무엇이 발견될지 모르는터라 시한폭탄과도 같다고 판단하여 아예 접근을 차단해달라는 요청을 받았습니다.</p>\n<h2 id=\"레퍼런스-확인\" style=\"position:relative;\"><a href=\"#%EB%A0%88%ED%8D%BC%EB%9F%B0%EC%8A%A4-%ED%99%95%EC%9D%B8\" aria-label=\"레퍼런스 확인 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>레퍼런스 확인</h2>\n<p>우선 개발자도구 차단이 가능한지 레퍼런스를 찾아보았습니다. 저희 이사님(개발팀장/백엔드)께서는 신한카드 홈페이지를 예로 드시면서 여기 홈페이지는 개발자도구가 안열린다고 이렇게 해달라고 하셨습니다. <strong>하지만 제가 확인해보니 개발자 도구를 여는 단축키(F12, Ctrl+Shift+I)를 막은 것이지 개발자도구를 막은 것이 아니라서, 브라우저 메뉴를 클릭해 개발자 도구를 열면 그냥 열려버렸습니다.</strong></p>\n<blockquote>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1200px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 31.333333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABsElEQVQY0yWRzUsUcRjH59Df4cmSLh6CPAVdvHSI8NIpOuTJLlIUG5ELumCHWi2VkA3CVZNdyVxHYSMVLGatVnql6KBeRBZ2t5nGmZ3Z37x+/I0+8PB9Ds/z8Hm+j3Jkx8R+CJEPvoDAJ/IEjusiXAffaeE5Uttt2RMQS63rTRpmE8PSMVoGZsvESvo8D2WhrJFRPzK6usXI2w3SMp+urKN9+sIbbYfpD1VyO7/I//hN6v02E9o3dL1BU69j2xaOcBASJIoi4jhG6U2Pc/7BOGfvZzl37wmdqSw9dzO8q1Sp6SZ/Dmpofw8pbu3RPfmartFpRMviv2EQegGhvC4MwpOFSSrXn+W5+XyOwRcL3JDal83TMTzF4s9danWX3UOTyvcaM2v7DJXWeVlYxm3bGEeGtEDalZCFp3RJKJfvZEj1D1JaLFCcm2d2ZpYrEznGtj9T3twkr64xr65S+Vrl2tIGfYUywrL512zgSHVtm3binytOiJWLt3Pc6p9k4LHKQGaF9FiZq8PLdD5c4kK6RM+ISvdQSdYqZx694lKuKB/jE8hhVz7OEx5RKE9OKCXxMRbvjA2Imuf9AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"신한카드-홈페이지-개발자도구\"\n        title=\"신한카드-홈페이지-개발자도구\"\n        src=\"/TIL/static/e31776fe452bd8260d183f517f8454b0/c1b63/card-devtool-open.png\"\n        srcset=\"/TIL/static/e31776fe452bd8260d183f517f8454b0/5a46d/card-devtool-open.png 300w,\n/TIL/static/e31776fe452bd8260d183f517f8454b0/0a47e/card-devtool-open.png 600w,\n/TIL/static/e31776fe452bd8260d183f517f8454b0/c1b63/card-devtool-open.png 1200w,\n/TIL/static/e31776fe452bd8260d183f517f8454b0/ed123/card-devtool-open.png 1765w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n</blockquote>\n<p>이 외에 어떤 사이트를 찾아봐도 개발자 도구를 완벽히 막는 사이트는 없어보였습니다. 레퍼런스 찾기는 둘째치고, 생각을 조금 해보면 프론트엔드 개발자가 통제할 수 있는 것은 Web API 외에는 없기 때문에 API 목록을 확인해보았으나 따로 개발자도구 관련 API는 공개된 것이 없었습니다. 즉, 프론트엔드 스크립트로 브라우저 개발자 도구에 직접적으로 관여하는 것은 <strong>불가능</strong>해보였습니다.</p>\n<blockquote>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 780px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 91.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACIUlEQVQ4y61TaY/aMBDN//91/UIBiUWChVBI4jt2Tl5nxhxFXe1WbSM92Z7Lb944RVVdsNlsUJal4Fge8S9fEWOEDwHOezjnENsWdd1AK01Q0MagaRo0imxai0/Rvq4rQi02YzRUo9BSbsHB7FDkaMioqAjbFBckGxfkVWkqTjDGSgzv73mGc+ki7wOKruvwP7+CaVprEahtXr3LrTubmRhiyNBG5z3ZzS9756zsU0q5YAieqHoxMmXRkXSd5xnTNMn6J7her7ngdvuGxWKB9XqF1WqN5fI79vv9X7XLRQumygxDm9nlNhysTFfJ+R78FYShDIUPYnji+nL+mtmjILPrhgnDOKMndAOtdOZCbBvENglS/9S0v8UP4/Ta8kjCH5sWhybipBJOOkK7lrwzapvwXkdB7Xo5c0cx9dhXLfZkP1QOvu0xTDeGwzCKc0c4UMBFhdwm3XYxkXwRoRtfWmRWOgxQBF75Mu5MCjJ9FwfYG9p+uvNHpEIujb8N5dMp85v7wPOp8B/ZH0MZBqbcobKdrEw/D/gKR9qcTYdpfi3Uk0yN70mSToaF+3uQoYwjShVlKMcmip5J9LhCuSTCczKf5zlrm7qecpLE8iBr09IMbxry73U2SQJ4mqwjM2RtTejkEr7srJMwGqdZGP7QOedIqJSn+My0YJocvNgZLHcaq3eL7clhdwkiw7c3RTb6v/vne+OiHLMpHdYHC+vjQ8+fCod4ZMffmyAAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"브라우저-API-목록\"\n        title=\"브라우저-API-목록\"\n        src=\"/TIL/static/1ac67bba02f2f987e250249c238d4b47/a1792/web-api-list.png\"\n        srcset=\"/TIL/static/1ac67bba02f2f987e250249c238d4b47/5a46d/web-api-list.png 300w,\n/TIL/static/1ac67bba02f2f987e250249c238d4b47/0a47e/web-api-list.png 600w,\n/TIL/static/1ac67bba02f2f987e250249c238d4b47/a1792/web-api-list.png 780w\"\n        sizes=\"(max-width: 780px) 100vw, 780px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n</blockquote>\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/API\">MDN의 Web API 목록</a></p>\n<h2 id=\"관련-npm-패키지\" style=\"position:relative;\"><a href=\"#%EA%B4%80%EB%A0%A8-npm-%ED%8C%A8%ED%82%A4%EC%A7%80\" aria-label=\"관련 npm 패키지 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>관련 npm 패키지</h2>\n<p>그래도 없는게 없다는 npm에 혹시 관련 라이브러리가 있을까 싶어 찾아보니 아래와 같은 패키지가 있었습니다.</p>\n<blockquote>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 903px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.333333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABsElEQVQoz6WSbW/aMBDH8/2/R6WtnapK2wRNWwKBMgZ0jFGkqus0VUgdsRNIgm0gcfyvHUJIq/VVT/rpzg/34PNZ2+0WyzBEGEbIMlUhw17Mumq/hdQ+lpQSSZLkKKVKjLA4RBQuc3stODhn2lIv7lUxRVh756rsK+qOHlC/ukavf4Mv5w7sSwe394/52Us/Ve5ZmTos8tLVrnRzqf8gUB88wR7McNKeaf2IH3+iImmmffbsYmTVgO8XVQQsmj/9NcYnd4Sr3gi1zg3chgvS+4rfLRu1iyZm048g9ydouy3EjTOgeYqJ6+BufAxGOmXVZQ+ntxOcN77h+9iD2+qiNu6iOezAtes4ur5DfTiB41zgw+AvnGYbLbuGiV5f9j/jJx0eAgoh4M3n8H0fgSFYaHwQSjD3PBCiNaH451FQGsDTbPRESNNvPSGm37Loo/kDi4kNnmiERSgQhAx0yTUMvoYEK5AFxzLS+5TmyUwCxljxkSh1GTCRCnwjsVpL8HWKiGtYgpXY2SFLITYpGOdYMQPTtkBq5jeVSNODzp9sBjp/os4cx3Flrl7z6k//O9gKz/0vRpGSvuBgAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"라이브러리-readme.md\"\n        title=\"라이브러리-readme.md\"\n        src=\"/TIL/static/895fae9225425ab3b5ddab58cbf5ba2e/c4b7c/disable-devtool-readme.png\"\n        srcset=\"/TIL/static/895fae9225425ab3b5ddab58cbf5ba2e/5a46d/disable-devtool-readme.png 300w,\n/TIL/static/895fae9225425ab3b5ddab58cbf5ba2e/0a47e/disable-devtool-readme.png 600w,\n/TIL/static/895fae9225425ab3b5ddab58cbf5ba2e/c4b7c/disable-devtool-readme.png 903w\"\n        sizes=\"(max-width: 903px) 100vw, 903px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n</blockquote>\n<p><a href=\"https://github.com/theajack/disable-devtool\">https://github.com/theajack/disable-devtool</a></p>\n<p>해당 도구의 설명을 보면 스크립트 태크를 이용해서 간단하게 삽입할 수 있고, 개발자도구 단축키를 막아주며, 브라우저 메뉴바에 직접 클릭을 통해 열면 바로 창이 닫히도록 개발해놓았다고 합니다.</p>\n<p>간단하게 html을 만들어서 <code class=\"language-text\">&lt;script></code> 태그로 삽입해보았고 아래와 같이 브라우저 메뉴를 통해 개발자도구를 열면 순식간에 창이 닫혀버리는 것을 볼 수 있었습니다.</p>\n<blockquote>\n<p><img src=\"/TIL/c9731e7ad28cb6910bcf2e221c5a8ade/disable-devtool-action.gif\" alt=\"개발자도구를-열어서-닫히는-gif\"></p>\n</blockquote>\n<h2 id=\"분석-및-결론\" style=\"position:relative;\"><a href=\"#%EB%B6%84%EC%84%9D-%EB%B0%8F-%EA%B2%B0%EB%A1%A0\" aria-label=\"분석 및 결론 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>분석 및 결론</h2>\n<p>우선 Web API 중에는 개발자 도구 관련 API가 없으므로 공식적으로 개발자 도구를 차단하는 방법은 없습니다.</p>\n<p>하지만 관련 npm 패키지들이 구현한 방식을 보면, 윈도우 사이즈나 디버거 등을 이용해서 우회적으로 개발자 도구가 열린 것을 감지해내는 것 같습니다. 이로 인해 개발자 도구가 열리는 것을 막을 수는 없지만 열리는 것을 감지해서 창을 닫아버린다던지 하는 조치를 취할 수는 있었습니다.</p>\n<p>이가 없으면 잇몸으로 한다는 말이 와닿는 사례였습니다.</p>","frontmatter":{"title":"개발자도구 접근 차단하기","date":"May 13, 2022"}}},"pageContext":{"slug":"/atWork/disable-devtool/","previous":null,"next":{"fields":{"slug":"/atWork/npm-audit-fix/"},"frontmatter":{"title":"npm audit으로 취약점 제거하기"}}}}}